{"mode":"Text","textContent":"// Libraries\n#include \"vex.h\"\nusing namespace vex;\n\n// Gets the color of the blocks and based on that returns a value\nint getColor() {\n    VisionSensor.takeSnapshot(VisionSensor__R);\n    if (VisionSensor.objectCount > 0) {\n        return 1;\n    }\n    VisionSensor.takeSnapshot(VisionSensor__O);\n    if (VisionSensor.objectCount > 0) {\n        return 2;\n    }\n    VisionSensor.takeSnapshot(VisionSensor__Y);\n    if (VisionSensor.objectCount > 0) {\n        return 3;\n    }\n    VisionSensor.takeSnapshot(VisionSensor__G);\n    if (VisionSensor.objectCount > 0) {\n        return 4;\n    }\n    VisionSensor.takeSnapshot(VisionSensor__B);\n    if (VisionSensor.objectCount > 0) {\n        return 5;\n    }\n    return -1;\n}\n\nvoid turnLeft() {\n    Drivetrain.turnFor(left, 87.5, degrees);\n}\n\nvoid turnRight() {\n    Drivetrain.turnFor(right, 87, degrees);\n}\n\nvoid turn180() {\n    Drivetrain.turnFor(right, 170, degrees);\n}\n\nvoid swapBlocks() {\n    Brain.Screen.print(\"Swapping blocks\");\n    Brain.Screen.newLine();\n\n    // Picks up first block\n    Drivetrain.driveFor(forward, 350, mm);\n    Claw.spinFor(forward, 60, degrees);\n    Drivetrain.driveFor(reverse, 350, mm);\n\n    // Turn back and put down block and go back\n    turn180();\n    Drivetrain.driveFor(forward, 600, mm);\n    Claw.spinFor(reverse, 60, degrees);\n    Drivetrain.driveFor(reverse, 600, mm);\n    \n    // Turn back, position robot in front of second block\n    turnRight();\n    Drivetrain.driveFor(reverse, 450, mm);\n    turnRight();\n\n    // Pick up second block\n    Drivetrain.driveFor(forward, 350, mm);\n    Claw.spinFor(forward, 60, degrees);\n    Drivetrain.driveFor(reverse, 350, mm);\n\n    // Go in front of first block slot\n    turnLeft();\n    Drivetrain.driveFor(forward, 450, mm);\n    turnRight();\n\n    // Put down second block in first block slot\n    Drivetrain.driveFor(forward, 350, mm);\n    Claw.spinFor(reverse, 60, degrees);\n    Drivetrain.driveFor(reverse, 350, mm);\n\n    // Pick up first block\n    turn180();\n    Drivetrain.driveFor(forward, 600, mm);\n    Claw.spinFor(forward, 60, degrees);\n    Drivetrain.driveFor(reverse, 600, mm);\n\n    // Go to the second block slot\n    turnRight();\n    Drivetrain.driveFor(reverse, 450, mm);\n    turnRight();\n    // Release the first block in second block slot\n    Drivetrain.driveFor(forward, 350, mm);\n    Claw.spinFor(reverse, 60, degrees);\n    Drivetrain.driveFor(reverse, 350, mm);\n\n    // Go back go to original position\n    turnLeft();\n    Drivetrain.driveFor(forward, 450, mm);\n    turnRight();\n    \n}\n\nbool compareColors() {\n    Brain.Screen.print(\"Comparing colors\");\n    Brain.Screen.newLine();\n    int a = getColor();\n    turnRight();\n    Drivetrain.driveFor(forward, 450, mm);\n    turnLeft();\n    int b = getColor();\n    turnRight();\n    Drivetrain.driveFor(reverse, 450, mm);\n    turnLeft();\n    if (a > b) {\n        return true;\n    }\n    return false;\n}\n\n\nint main() {\n    wait(30, msec);\n    Drivetrain.setDriveVelocity(15, percent);\n    Drivetrain.setTurnVelocity(15, percent);\n    Claw.spinFor(reverse, 150, degrees);\n\n    int N = 5;\n    int i, j;\n    for (i = 0; i < (N-1); i++){\n        for (j = 0; j < (N-1) - i; j++){\n            if (compareColors()){\n                swapBlocks();\n            }\n            Brain.Screen.print(\"Moving to next position\");\n            Brain.Screen.newLine();\n            turnRight();\n            Drivetrain.driveFor(forward, 450, mm);\n            turnLeft();\n            \n        }\n        Brain.Screen.print(\"Returning to original position\");\n        Brain.Screen.newLine();\n        turnLeft();\n        Drivetrain.driveFor(forward, 450*(N-i-1), mm);\n        turnRight();\n    }  \n}","textLanguage":"cpp","rconfig":[{"port":[8],"name":"Claw","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[3],"name":"VisionSensor","customName":true,"deviceType":"Vision","deviceClass":"vision","setting":{"config":"{\"config\":{\"brightness\":50,\"signatures\":[{\"name\":\"R\",\"parameters\":{\"uMin\":7239,\"uMax\":8619,\"uMean\":7929,\"vMin\":-845,\"vMax\":-261,\"vMean\":-553,\"rgb\":1,\"type\":0,\"name\":\"R\"},\"range\":3},{\"name\":\"O\",\"parameters\":{\"uMin\":4763,\"uMax\":5829,\"uMean\":5296,\"vMin\":-2849,\"vMax\":-2189,\"vMean\":-2520,\"rgb\":1,\"type\":0,\"name\":\"O\"},\"range\":2.5},{\"name\":\"Y\",\"parameters\":{\"uMin\":137,\"uMax\":979,\"uMean\":558,\"vMin\":-4211,\"vMax\":-3541,\"vMean\":-3876,\"rgb\":1,\"type\":0,\"name\":\"Y\"},\"range\":2.5},{\"name\":\"G\",\"parameters\":{\"uMin\":-6145,\"uMax\":-3793,\"uMean\":-4970,\"vMin\":-1895,\"vMax\":-473,\"vMean\":-1184,\"rgb\":1,\"type\":0,\"name\":\"G\"},\"range\":3},{\"name\":\"B\",\"parameters\":{\"uMin\":-2811,\"uMax\":-1927,\"uMean\":-2369,\"vMin\":9953,\"vMax\":14301,\"vMean\":12127,\"rgb\":1,\"type\":0,\"name\":\"B\"},\"range\":2.5},{\"name\":\"SIG_6\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_6\"},\"range\":2.5},{\"name\":\"SIG_7\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_7\"},\"range\":2.5}],\"codes\":[]}}","isConfigured":"false"},"triportSourcePort":22},{"port":[1,2,9,10,0],"name":"Drivetrain","customName":false,"deviceType":"Drivetrain","deviceClass":"smartdrive","setting":{"type":"4-motor","wheelSize":"wheel4in","gear":"ratio18_1","gearRatio":"1:1","direction":"fwd","gyroType":"none","width":"290","unit":"mm","wheelbase":"165","wheelbaseUnit":"mm","xOffset":"0","xOffsetUnit":"mm","yOffset":"0","yOffsetUnit":"mm","thetaOffset":"180"},"triportSourcePort":null}],"slot":0,"platform":"V5","sdkVersion":"20210708.10.00.00","appVersion":"2.2.0","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","target":"Physical"}